<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="script-src 'self'; style-src 'self' 'unsafe-inline';">
    <title>Job Filter</title>
    <link rel="stylesheet" href="popup.css">
</head>
<body>
    <div id="header">
        <img src="icons/icon-128x128.png" alt="Extension Icon" />
        <h2 id="header-title">Loading...</h2>
    </div>

    <div class="content-wrapper">
        <div class="main-content">
            <!-- FILTERS SECTION - Pill Grid Style -->
            <div class="section">
                <div class="filter-section" role="group" aria-labelledby="quick-filters-title">
                    <div class="section-title" id="quick-filters-title">Quick Filters</div>

                    <!-- 2x2 Grid for main filters -->
                    <div class="filter-pill-grid">
                        <div class="filter-pill" data-filter="applied">
                            <span class="pill-icon" aria-hidden="true">✓</span>
                            <span class="pill-label" id="toggle-applied-label">Applied</span>
                            <input type="checkbox" id="toggle-applied" aria-labelledby="toggle-applied-label">
                        </div>

                        <div class="filter-pill" data-filter="promoted">
                            <span class="pill-icon" aria-hidden="true">★</span>
                            <span class="pill-label" id="toggle-promoted-label">Promoted</span>
                            <input type="checkbox" id="toggle-promoted" aria-labelledby="toggle-promoted-label">
                        </div>

                        <div class="filter-pill" data-filter="dismissed">
                            <span class="pill-icon" aria-hidden="true">✕</span>
                            <span class="pill-label" id="toggle-dismissed-label">Dismissed</span>
                            <input type="checkbox" id="toggle-dismissed" aria-labelledby="toggle-dismissed-label">
                        </div>

                        <div class="filter-pill" data-filter="viewed">
                            <span class="pill-icon" aria-hidden="true">◉</span>
                            <span class="pill-label" id="toggle-viewed-label">Viewed</span>
                            <input type="checkbox" id="toggle-viewed" aria-labelledby="toggle-viewed-label">
                        </div>
                    </div>

                    <!-- Full-width Display Block Icon toggle -->
                    <div class="filter-pill filter-pill-full" data-filter="show-buttons">
                        <span class="pill-icon" aria-hidden="true">
                            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" viewBox="0 0 16 16">
                                <path d="m10.79 12.912-1.614-1.615a3.5 3.5 0 0 1-4.474-4.474l-2.06-2.06C.938 6.278 0 8 0 8s3 5.5 8 5.5a7 7 0 0 0 2.79-.588M5.21 3.088A7 7 0 0 1 8 2.5c5 0 8 5.5 8 5.5s-.939 1.721-2.641 3.238l-2.062-2.062a3.5 3.5 0 0 0-4.474-4.474z"/>
                                <path d="M5.525 7.646a2.5 2.5 0 0 0 2.829 2.829zm4.95.708-2.829-2.83a2.5 2.5 0 0 1 2.829 2.829zm3.171 6-12-12 .708-.708 12 12z"/>
                            </svg>
                        </span>
                        <span class="pill-label" id="show-icon-label">Display Block Icon</span>
                        <input type="checkbox" id="toggle-show-buttons" aria-labelledby="show-icon-label">
                    </div>
                </div>
            </div>

            <!-- COMPANIES SECTION -->
            <div class="section">
                <div class="company-section">
                    <div class="company-badge" id="company-badge" role="button" tabindex="0" aria-expanded="false" aria-controls="company-list">
                        <span id="companies-label">Companies</span>
                        <span class="count" id="company-count-badge">0</span>
                    </div>
                    <ul class="company-list" id="company-list" role="list">
                        <!-- Company items populate here -->
                    </ul>
                    <div class="add-company">
                        <label for="new-company" class="visually-hidden">Add company to block list</label>
                        <input type="text" id="new-company" placeholder="Add new company" maxlength="100">
                        <button id="add-company-btn" aria-label="Add company to block list">Add</button>
                    </div>
                    <button id="clear-all-btn" class="clear-all-btn" aria-label="Clear all blocked companies">Clear All</button>
                </div>
            </div>
        </div>
    </div>

    <a
        href="https://www.linkedin.com/jobs/"
        class="li-jobs-bar"
        target="_blank"
        rel="noopener noreferrer"
        aria-label="Open LinkedIn Jobs in new tab"
    >
        <span class="li-jobs-icon" aria-hidden="true">in</span>
        <span class="li-jobs-text">Open LinkedIn Jobs</span>
    </a>
    <footer>
        <a href="https://chromewebstore.google.com/detail/YOUR_EXTENSION_ID/reviews"
           target="_blank"
           rel="noopener noreferrer"
           class="rate-us"
           title="Rate us on the Chrome Web Store">
            <span class="stars">★★★★★</span>
        </a>
        <span id="version-number"></span>
        <span id="footer-text"></span>
    </footer>

    <script src="popup.js"></script>
</body>
</html>
